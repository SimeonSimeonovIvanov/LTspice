Version 4
SHEET 1 2104 680
WIRE 176 -96 -64 -96
WIRE 224 -96 176 -96
WIRE 384 -96 304 -96
WIRE 544 -96 384 -96
WIRE 656 -96 544 -96
WIRE 176 -48 176 -96
WIRE 912 -32 896 -32
WIRE 1056 -32 976 -32
WIRE 176 64 176 32
WIRE 384 64 384 -96
WIRE 544 64 544 -96
WIRE 768 64 752 64
WIRE 896 64 896 -32
WIRE 896 64 848 64
WIRE 912 64 896 64
WIRE 1056 64 1056 -32
WIRE 1056 64 992 64
WIRE 752 96 752 64
WIRE 304 112 240 112
WIRE 320 112 304 112
WIRE -64 144 -64 -96
WIRE 656 160 656 -96
WIRE 176 176 176 160
WIRE 256 176 176 176
WIRE 304 176 304 112
WIRE 384 176 384 160
WIRE 384 176 304 176
WIRE 176 192 176 176
WIRE 384 192 384 176
WIRE 960 192 960 160
WIRE 544 208 544 144
WIRE 592 208 544 208
WIRE 896 208 896 64
WIRE 928 208 896 208
WIRE 1056 224 1056 64
WIRE 1056 224 992 224
WIRE 256 240 256 176
WIRE 256 240 240 240
WIRE 320 240 256 240
WIRE 544 240 544 208
WIRE 864 240 800 240
WIRE 928 240 864 240
WIRE 656 288 656 256
WIRE 896 288 896 272
WIRE 112 304 48 304
WIRE 176 304 176 288
WIRE 176 304 112 304
WIRE 176 320 176 304
WIRE 384 320 384 288
WIRE 896 320 896 288
WIRE 544 336 544 304
WIRE -64 432 -64 224
WIRE 176 432 176 400
WIRE 384 432 384 400
WIRE 544 432 544 400
WIRE 656 432 656 368
WIRE 896 432 896 400
WIRE 960 432 960 256
FLAG 176 432 0
FLAG 384 432 0
FLAG -64 432 0
FLAG 112 304 Vsense
FLAG 960 160 Vcc
FLAG 960 432 0
FLAG 896 432 0
FLAG 896 288 Vcc
FLAG 864 240 Vsense
FLAG 752 96 0
FLAG 544 432 0
FLAG 656 432 0
SYMBOL pnp 240 160 R180
WINDOW 0 78 61 Left 2
WINDOW 3 76 31 Left 2
SYMATTR InstName Q1
SYMATTR Value BC857A
SYMBOL pnp 320 160 M180
WINDOW 0 71 58 Left 2
WINDOW 3 72 30 Left 2
SYMATTR InstName Q2
SYMATTR Value BC857A
SYMBOL npn 240 192 M0
SYMATTR InstName Q3
SYMATTR Value BC847A
SYMBOL npn 320 192 R0
SYMATTR InstName Q4
SYMATTR Value BC847A
SYMBOL res 160 -64 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 320 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R_cable}
SYMBOL res 160 416 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 5k
SYMBOL res 368 416 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 5k
SYMBOL voltage -64 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL Opamps\\OP284 960 160 R0
SYMATTR InstName U1
SYMBOL res 1008 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL cap 976 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL res 864 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 68k
SYMBOL voltage 896 304 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 48 47 Left 2
WINDOW 3 48 72 Left 2
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL npn 592 160 R0
SYMATTR InstName Q9
SYMATTR Value BC847A
SYMBOL res 640 272 R0
SYMATTR InstName R15
SYMATTR Value 47
SYMBOL diode 528 240 R0
SYMATTR InstName D1
SYMBOL diode 528 336 R0
SYMATTR InstName D2
SYMBOL res 528 48 R0
SYMATTR InstName R16
SYMATTR Value 50k
TEXT 408 -56 Left 2 !.tran 10m
TEXT 320 -112 Left 2 !.step param R_cable 0.01 20 1
